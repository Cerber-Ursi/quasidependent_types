Системы типов - это настоящее безумие.

Некоторое время назад я уже отметился здесь со статьёй, в которой пытался разобрать, какие гарантии в compile-time может дать система типов Rust. Кое-какие интересные моменты удалось выловить уже тогда, однако больше всего меня зацепил весьма развёрнутый [комментарий](https://habr.com/ru/post/468145/#comment_20652891), описывающий некоторые вещи, доступные в зависимо-типизированном Idris.
Разумеется, я не мог остаться в стороне. Результат исследований доступен [на github](https://github.com/Cerberuser/dependent-typecheck), а детальный разбор - под катом.

<cut/>

Сразу должен оговориться: разумеется, *настоящие* зависимые типы в Rust, скорее всего, не реализуемы. То, что описываю я, - это именно имитация, реализация некоторых отдельных возможностей, и, разумеется, исключительно в порядке эксперимента, не для какого-либо практического применения.

// Dependent
И если бы [вот это](https://github.com/rust-lang/rust/issues/8995) было реализовано, возможно, я бы и вовсе обошёлся без типажа.